
{% extends "base.html" %}
{% block title %}Home • Shubham Gour Tech{% endblock %}
{% block content %}
  <section class="hero hero-youtuber">
    <div class="hero-photo-wrap">
      <img class="hero-photo" src="{{ url_for('static', filename='img/hero.jpg') }}" alt="Shubham Gour Portrait">
      <span class="photo-glow"></span>
    </div>
    <div class="hero-text">
      <h1>Shubham Gour</h1>
      <h2>Release Engineer • DevOps • Cloud • YouTuber</h2>
      <p class="tagline">Helping people learn DevOps with real projects, automation, and cloud — one video at a time.</p>
      <div class="hero-actions">
        <a class="btn yt" href="https://www.youtube.com/shubhamgourtech" target="_blank" rel="noopener">▶ Subscribe on YouTube</a>
        <a class="btn" href="https://www.linkedin.com/in/theshubhamgour/" target="_blank" rel="noopener">↗ Connect on LinkedIn</a>
      </div>
    </div>
  </section>


  <section class="grid">
    {% for key, p in PLAYLISTS.items() %}
      <a class="card" href="/{{ key }}">
        <div class="card-glow"></div>
        <div class="card-body">
          <h2>{{ p.title }}</h2>
          <p>Click to open playlist ➜</p>
        </div>
      </a>
    {% endfor %}
  </section>

  <script>
    // Simple auto-rotating carousel (no external libs)
    (function() {
      const root = document.getElementById('sg-carousel');
      if (!root) return;
      const slidesWrap = root.querySelector('.slides');
      const slides = Array.from(slidesWrap.querySelectorAll('img')).filter(Boolean);
      const prevBtn = root.querySelector('.prev');
      const nextBtn = root.querySelector('.next');
      const dotsWrap = root.querySelector('.dots');
      let idx = 0;
      let timer = null;
      const duration = 5000;

      function renderDots(){
        dotsWrap.innerHTML = '';
        slides.forEach((_, i) => {
          const b = document.createElement('button');
          b.className = 'dot' + (i === idx ? ' active' : '');
          b.setAttribute('aria-label', 'Go to slide ' + (i+1));
          b.addEventListener('click', () => go(i));
          dotsWrap.appendChild(b);
        });
      }

      function go(i){
        idx = (i + slides.length) % slides.length;
        const offset = -idx * 100;
        slidesWrap.style.transform = 'translateX(' + offset + '%)';
        renderDots();
        restart();
      }

      function next(){ go(idx + 1); }
      function prev(){ go(idx - 1); }

      function start(){
        timer = setInterval(next, duration);
      }
      function stop(){
        if (timer) { clearInterval(timer); timer = null; }
      }
      function restart(){
        stop(); start();
      }

      nextBtn.addEventListener('click', next);
      prevBtn.addEventListener('click', prev);
      root.addEventListener('mouseenter', stop);
      root.addEventListener('mouseleave', start);

      // Init
      slidesWrap.style.width = (slides.length * 100) + '%';
      slides.forEach(s => s.style.width = (100 / slides.length) + '%');
      renderDots();
      start();
    })();
  </script>

  <style>
    /* Hero section overrides for YouTuber look */
    .hero-youtuber{
      display:grid; gap:22px; align-items:center;
      grid-template-columns: 160px 1fr;
      margin: 12px 0 6px;
    }
    @media (min-width: 760px){
      .hero-youtuber{ grid-template-columns: 220px 1fr; gap:28px; }
    }
    .hero-photo-wrap{
      position:relative; width: 160px; height: 200px; margin: 0 auto;
      border-radius: 20px; overflow: hidden; box-shadow: var(--shadow);
    }
    @media (min-width: 760px){
      .hero-photo-wrap{ width: 220px; height: 280px; }
    }
    .hero-photo{ width: 100%; height: 100%; object-fit: cover; display:block; }
    .photo-glow{
      position:absolute; inset:-10%;
      background: radial-gradient(50% 50% at 50% 10%, rgba(0,229,255,.35), transparent 70%);
      filter: blur(18px); pointer-events:none;
    }
    .hero-text h1{ margin: 0 0 6px; font-size: clamp(1.6rem, 3vw, 2.2rem); }
    .hero-text h2{ margin: 0 0 8px; color: var(--muted); font-size: 1.05rem; font-weight:600;}
    .tagline{ color: var(--text); opacity:.9; max-width: 700px; }

    .hero-actions{ display:flex; gap:10px; flex-wrap: wrap; margin-top:12px; }

    /* Carousel */
    .carousel-section{ margin: 24px 0 10px; }
    .section-title{ text-align:center; margin: 0 0 10px; color: var(--muted); }
    .carousel{
      position: relative;
      background: var(--card);
      border:1px solid rgba(255,255,255,.06);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }
    .carousel .slides{
      display:flex; transition: transform .6s ease;
      width:100%;
    }
    .carousel img{
      display:block; object-fit: cover;
      aspect-ratio: 16 / 9; width:100%;
    }
    .carousel .nav{
      position:absolute; top:50%; transform: translateY(-50%);
      background: rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.12);
      color: #fff; width:38px; height:38px; border-radius: 50%;
      display:grid; place-items:center; cursor:pointer;
      transition: background .2s ease; z-index:2;
    }
    .carousel .nav:hover{ background: rgba(0,0,0,.5); }
    .carousel .prev{ left:10px; }
    .carousel .next{ right:10px; }
    .carousel .dots{
      position:absolute; bottom:10px; left:50%; transform: translateX(-50%);
      display:flex; gap:6px; z-index:2;
    }
    .carousel .dot{
      width:10px; height:10px; border-radius:50%;
      border:1px solid rgba(255,255,255,.6); background: rgba(255,255,255,.25);
      cursor:pointer;
    }
    .carousel .dot.active{ background: #fff; }
  </style>
{% endblock %}
